<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>twincat-states 875 &mdash; PCDS Devices 4.9.0+50.gbfab361.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="883 sds-reorg" href="883-sds-reorg.html" />
    <link rel="prev" title="867 signal_edit_enum" href="867-signal_edit_enum.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> PCDS Devices
          </a>
              <div class="version">
                4.9.0+50.gbfab361.dirty
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Device Types</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base_classes.html">Base Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sim_types.html">Simulated Devices</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mv.html">Shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presets.html">Preset Positions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tab.html">IPython Tab Curation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui.html">UI Templates</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Notes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release History</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../upcoming_changes.html">Upcoming Changes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="867-signal_edit_enum.html">867 signal_edit_enum</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">twincat-states 875</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#api-changes">API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-updates">Device Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-devices">New Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bugfixes">Bugfixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maintenance">Maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="883-sds-reorg.html">883 sds-reorg</a></li>
<li class="toctree-l2"><a class="reference internal" href="889-vls-optics.html">889 vls-optics</a></li>
<li class="toctree-l2"><a class="reference internal" href="897-Add_VRCClsLS.html">897 Add VRCClsLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="905-ephot-pvs.html">905 ephot-pvs</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PCDS Devices</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../upcoming_changes.html">Upcoming Changes</a> &raquo;</li>
      <li>twincat-states 875</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/upcoming_release_notes/875-twincat-states.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="twincat-states-875">
<h1>twincat-states 875<a class="headerlink" href="#twincat-states-875" title="Permalink to this headline"></a></h1>
<section id="api-changes">
<h2>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>TwinCATStateConfigAll has been removed. This was considered an
internal API.</p></li>
</ul>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Update TwinCATStatePositioner to have a configurable and variable number
of state configuration PVs. These are the structures that allow you to
check and change state setpoints, deltas, velocities, etc. This is
implemented through the new TwinCATStateConfigDynamic class.</p></li>
<li><p>Increase the maximum number of connected state configuration records to
match the current motion library limit (9)</p></li>
</ul>
</section>
<section id="device-updates">
<h2>Device Updates<a class="headerlink" href="#device-updates" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Using the new TwinCATStateConfigDynamic mechanisms and the UpdateComponent,
update the following classes to contain exactly the correct number of
twincat configuration states in their component state records.
Note that the number of states here does not include the “Unknown”
or “Moving” state associated with index 0. A device with n states will have
typically have 1 out state and n-1 target states by this count, and the
EPICS record will have n+1 possible enum values.
- ArrivalTimeMonitor (6)
- AttenuatorSXR_Ladder (9)
- AT2L0 (2)
- FEESolidAttenuatorBlade (2)
- LaserInCoupling (2)
- PPM (4)
- ReflaserL2SI (2)
- WavefrontSensorTarget (6)
- XPIM (4)</p></li>
</ul>
</section>
<section id="new-devices">
<h2>New Devices<a class="headerlink" href="#new-devices" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Add TM2K2, a variant of the ArrivalTimeMonitor class that has an extra
state (7). The real TM2K2 has one extra target holder compared to the
standard ArrivalTimeMonitor.</p></li>
</ul>
</section>
<section id="bugfixes">
<h2>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Fix subtle bugs related to the UpdateComponent and using copy vs deepcopy.
This was needed to make the dynamic state classes easy to customize.</p></li>
<li><p>Add an extra error state in UpdateComponent for when you’ve made a typo
in your component name. Previously this would give a confusing NameError.</p></li>
</ul>
</section>
<section id="maintenance">
<h2>Maintenance<a class="headerlink" href="#maintenance" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Add various missing docstrings and type annotations.</p></li>
</ul>
</section>
<section id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>zllentz</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="867-signal_edit_enum.html" class="btn btn-neutral float-left" title="867 signal_edit_enum" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="883-sds-reorg.html" class="btn btn-neutral float-right" title="883 sds-reorg" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, SLAC National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>